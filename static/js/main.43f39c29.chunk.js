(this["webpackJsonpeclasse-app"]=this["webpackJsonpeclasse-app"]||[]).push([[0],{37:function(e,a,t){e.exports=t(70)},47:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(9),r=t.n(c),o=t(17),s=t(2),u=(t(46),t(47),t(5)),i=t(10),m=t(12),d=t(7),E=t(8),f=t(11),b=function(e){var a=e.modifier,t=e.label,n=e.type,c=e.hadleChange;return l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label-form",htmlFor:a},t),l.a.createElement("input",{className:"input-form",id:a,name:a,type:n,onChange:c}))};b.defaultProps={label:"",type:"text"};var g=t(33),h=t.n(g).a.create({baseURL:"http://api.eclasse.io:8080/v1",responseType:"json",headers:{Accept:"application/json"}}),p=(t(64),function(){var e=Object(n.useState)(),a=Object(E.a)(e,2),t=a[0],c=a[1],r=Object(s.b)(),o=Object(s.c)((function(e){return e}));function g(e){c(Object(d.a)({},t,Object(m.a)({},e.target.name,e.target.value)))}return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{autoClose:1800}),o.isLogged&&l.a.createElement(i.a,{to:"/"}),l.a.createElement("div",{className:"container align-content-center form-login"},l.a.createElement("h1",{className:"usuarios"},"Login"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h.post("login",t).then((function(e){200===e.status&&(f.b.success("Logado com sucesso!"),setTimeout((function(){r(function(e,a,t){return{type:"auth/LOGIN",token:e,isLogged:a,user:t}}(e.data.token,!0,{email:t.email}))}),2e3))})).catch((function(e){console.log(e),f.b.error("Verifique senha ou login!")}))},method:"post"},l.a.createElement(b,{label:"email",modifier:"email",hadleChange:g}),l.a.createElement(b,{label:"senha",modifier:"senha",type:"password",hadleChange:g}),l.a.createElement("button",{className:"btn-primary submit",type:"submit"},"Entrar",l.a.createElement("i",{className:"icon icon-right"},"\ue800"))),l.a.createElement("p",{className:"account-details"},"Ainda n\xe3o tem uma conta?"),l.a.createElement("div",{className:"btn-unform"},l.a.createElement(u.b,{to:"/register"},"REGISTRAR"),l.a.createElement("i",{className:"icon icon-right-open"},"\ue801"))))});var v=function(){var e=Object(n.useState)({}),a=Object(E.a)(e,2),t=a[0],c=a[1],r=Object(s.c)((function(e){return e}));console.log(r);Object(s.c)((function(e){return e}));var o=Object(s.b)();function i(e){c(Object(d.a)({},t,Object(m.a)({},e.target.name,e.target.value)))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container align-content-center form-login"},l.a.createElement("h1",{className:"usuarios"},"Registro"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h.post("login",t).then((function(e){console.log(e),200===e.status&&o(function(e,a,t){return{type:"auth/LOGIN",token:e,isLogged:a,user:t}}(e.data.token,!0,t))}))},method:"post"},l.a.createElement(b,{label:"email",modifier:"email",hadleChange:i}),l.a.createElement(b,{label:"senha",modifier:"senha",type:"password",hadleChange:i}),l.a.createElement(b,{label:"repita senha",modifier:"senha-rpt",type:"password",hadleChange:i}),l.a.createElement("button",{className:"btn-primary submit",type:"submit"},"Registrar",l.a.createElement("i",{className:"icon icon-right"},"\ue800"))),l.a.createElement("p",{className:"account-details"},"J\xe1 tem uma conta?"),l.a.createElement("div",{className:"btn-unform"},l.a.createElement("i",{className:"icon icon-left-open"},"\ue802"),l.a.createElement(u.b,{to:"/login"},"ENTRAR"))))},k=(t(66),t(69),function(e){var a=e.classnames,t=Object(s.b)(),n=Object(s.c)((function(e){return e}));return console.log(n),l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"uk-navbar uk-navbar-container ".concat(a)},l.a.createElement(f.a,{autoClose:1800}),l.a.createElement("div",{className:"uk-navbar-left"},l.a.createElement(u.b,{className:"uk-navbar-toggle",href:"#!","data-uk-toggle":"target: #offcanvas-push"},l.a.createElement("span",{"data-uk-navbar-toggle-icon":"true"}))),l.a.createElement("div",{id:"offcanvas-push","data-uk-offcanvas":"mode: push; overlay: true"},l.a.createElement("div",{className:"uk-offcanvas-bar"},l.a.createElement("button",{className:"uk-offcanvas-close",type:"button","data-uk-close":!0}),l.a.createElement("ul",{className:"uk-navbar-nav"},l.a.createElement("li",null,l.a.createElement(u.b,{to:"/alunos"},"Aluno")),l.a.createElement("li",null,l.a.createElement(u.b,{to:"/professores"},"Professor")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Usu\xe1rio"),l.a.createElement("div",{"data-uk-dropdown":!0},l.a.createElement("ul",{className:"uk-nav uk-navbar-dropdown-nav"},!n.isLogged&&l.a.createElement("li",null,l.a.createElement(u.b,{to:"/login"},"Entrar")),n.isLogged&&l.a.createElement("li",null,l.a.createElement(u.b,{to:"/",onClick:function(){f.b.success("Deslogado com sucesso!"),t({type:"auth/LOGOUT",token:null,isLogged:!1,user:{}}),setTimeout((function(){window.location.href="/"}),2e3)}},"Sair"))))))))))}),N=function(e){var a=e.child;return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{classnames:"navbar"}),l.a.createElement("main",null,a))};N.defaultProps={child:null};var O=N;function j(){var e=Object(n.useState)(!1),a=Object(E.a)(e,2),t=(a[0],a[1]),c=Object(n.useState)(),r=Object(E.a)(c,2),o=(r[0],r[1]),u=Object(n.useState)(),i=Object(E.a)(u,2),m=(i[0],i[1],Object(n.useState)({})),d=Object(E.a)(m,2),f=d[0],b=d[1],g=Object(s.c)((function(e){return e}));return Object(n.useEffect)((function(){t(!0),g.isLogged&&h.get("usuarios",null!==g.token&&{headers:{Authorization:"Bearer ".concat(g.token)}}).then((function(e){b(e)})).catch((function(e){o(e)})).finally((function(){t(!1)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(O,null),l.a.createElement("div",{className:"uk-container uk-container-xsmall"},l.a.createElement("div",{className:"home uk-grid-match uk-child-width-1-3@m","data-uk-grid":!0},l.a.createElement("h1",null,"Saiba o que acontece em sala de aula"),l.a.createElement("p",null,"Fique pr\xf3ximo do seu filho, sem precisar sair de casa, monitore o comportamento e tenha conhecimento do desempenho do seu filho."))),l.a.createElement("div",{className:"uk-container uk-container-xsmall"},l.a.createElement("div",{className:"uk-child-width-1-3@m","data-uk-grid":!0,"data-uk-scrollspy":"cls: uk-animation-fade; target: .uk-card; delay: 500; repeat: true"},l.a.createElement("div",null,l.a.createElement("div",{className:"uk-card uk-card-default uk-card-body","data-uk-scrollspy-class":"uk-animation-slide-left"},l.a.createElement("h3",{className:"uk-card-title"},"Frequ\xeancia"),l.a.createElement("p",null,"Seja notificado em caso de faltas."))),l.a.createElement("div",null,l.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},l.a.createElement("h3",{className:"uk-card-title"},"Notas"),l.a.createElement("p",null,"Tenha conhecimento das notas do aluno de forma r\xe1pida e pr\xe1tica."))),l.a.createElement("div",null,l.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},l.a.createElement("h3",{className:"uk-card-title"},"Comportamento"),l.a.createElement("p",null,"Saiba o que acontece no cotidiano do seu filho."))),l.a.createElement("div",null,l.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},l.a.createElement("h3",{className:"uk-card-title"},"Compromissos"),l.a.createElement("p",null,"Receba notifica\xe7\xf5es de quando haver\xe1 reuni\xf5es ou encontros na institui\xe7\xe3o."))))),void 0!==f.data&&f.data.map((function(e,a){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,e.usuario),l.a.createElement("li",null,e.grupo_id),l.a.createElement("li",null,e.email),l.a.createElement("li",null,e.created_at))})))}function y(){return l.a.createElement(u.a,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/login",exact:!0},l.a.createElement(p,null)),l.a.createElement(i.b,{path:"/register",exact:!0},l.a.createElement(v,null)),l.a.createElement(i.b,{path:"/",exact:!0},l.a.createElement(j,null))))}var S=function(){return l.a.createElement(y,null)},L={isLogged:!1,token:null,user:{}};var w=t(35),C=t(36),F=new(function(){function e(){Object(w.a)(this,e)}return Object(C.a)(e,[{key:"loadState",value:function(){try{var e=localStorage.getItem("http://eclasse.io:state");return null===e?this.initializeState():JSON.parse(e)}catch(a){return this.initializeState()}}},{key:"saveState",value:function(e){try{var a=JSON.stringify(e);localStorage.setItem("http://eclasse.io:state",a)}catch(t){console.log(t)}}},{key:"initializeState",value:function(e){return new FormData(e)}}]),e}()),R=Object(o.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"auth/LOGIN":return Object(d.a)({},e,{token:a.token,isLogged:a.isLogged,user:Object(d.a)({},e.user,{},a.user)});case"auth/LOGOUT":return Object(d.a)({},e,{token:null,isLogged:!1,user:{}});default:return Object(d.a)({},e)}}),F.loadState());R.subscribe((function(){F.saveState(R.getState())})),r.a.render(l.a.createElement(s.a,{store:R},l.a.createElement(S,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.43f39c29.chunk.js.map